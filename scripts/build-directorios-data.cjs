// Build the final curated directorios data for the web app
// Takes filtered directories and creates a clean, curated dataset
const fs = require("fs");
const path = require("path");

// Curated directory data - manually verified real directories
// Organized by tier: premium (paid/high-value) and standard (free/common)
const curatedDirectories = [
  // ─── PREMIUM TIER: Well-known, high-authority directories ───
  {
    slug: "google-business",
    nombre: "Google Business Profile",
    dominio: "google.com",
    url: "https://business.google.com",
    descripcion: "El directorio de negocios de Google. Imprescindible para aparecer en Google Maps y búsquedas locales.",
    tipo: "premium",
    categoria: "general",
    gratis: true,
    permiteResenas: true,
    alcance: "global",
    popularidad: 100,
    icono: "google",
  },
  {
    slug: "paginas-amarillas",
    nombre: "Páginas Amarillas",
    dominio: "paginasamarillas.es",
    url: "https://www.paginasamarillas.es",
    descripcion: "El directorio de empresas más conocido de España. Miles de negocios verificados con reseñas y contacto directo.",
    tipo: "premium",
    categoria: "general",
    gratis: true,
    permiteResenas: true,
    alcance: "nacional",
    popularidad: 95,
    icono: "book",
  },
  {
    slug: "qdq",
    nombre: "QDQ",
    dominio: "qdq.com",
    url: "https://www.qdq.com",
    descripcion: "Directorio de profesionales y empresas en España con búsqueda por localidad y categoría de servicio.",
    tipo: "premium",
    categoria: "general",
    gratis: true,
    permiteResenas: true,
    alcance: "nacional",
    popularidad: 85,
    icono: "search",
  },
  {
    slug: "cylex",
    nombre: "Cylex",
    dominio: "cylex.es",
    url: "https://www.cylex.es",
    descripcion: "Directorio de empresas con fichas detalladas, horarios, fotos y reseñas. Presente en más de 30 países.",
    tipo: "premium",
    categoria: "general",
    gratis: true,
    permiteResenas: true,
    alcance: "internacional",
    popularidad: 90,
    icono: "globe",
  },
  {
    slug: "infoisinfo",
    nombre: "InfoIsInfo",
    dominio: "infoisinfo.es",
    url: "https://www.infoisinfo.es",
    descripcion: "Directorio empresarial con información detallada de negocios por provincia y categoría en toda España.",
    tipo: "premium",
    categoria: "general",
    gratis: true,
    permiteResenas: true,
    alcance: "nacional",
    popularidad: 80,
    icono: "info",
  },
  {
    slug: "trustpilot",
    nombre: "Trustpilot",
    dominio: "trustpilot.com",
    url: "https://www.trustpilot.com",
    descripcion: "Plataforma global de reseñas verificadas. Ideal para construir confianza y reputación online.",
    tipo: "premium",
    categoria: "resenas",
    gratis: true,
    permiteResenas: true,
    alcance: "global",
    popularidad: 88,
    icono: "star",
  },
  {
    slug: "hotfrog",
    nombre: "Hotfrog",
    dominio: "hotfrog.es",
    url: "https://www.hotfrog.es",
    descripcion: "Directorio internacional de negocios locales con perfiles gratuitos y categorización por servicio.",
    tipo: "premium",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "internacional",
    popularidad: 75,
    icono: "building",
  },
  {
    slug: "cronoshare",
    nombre: "Cronoshare",
    dominio: "cronoshare.com",
    url: "https://www.cronoshare.com",
    descripcion: "Plataforma para encontrar y contratar profesionales. Los clientes publican proyectos y reciben presupuestos.",
    tipo: "premium",
    categoria: "servicios",
    gratis: false,
    permiteResenas: true,
    alcance: "nacional",
    popularidad: 82,
    icono: "clock",
  },
  {
    slug: "habitissimo",
    nombre: "Habitissimo",
    dominio: "habitissimo.es",
    url: "https://www.habitissimo.es",
    descripcion: "Directorio especializado en reformas, obras y servicios para el hogar. Presupuestos gratuitos de profesionales.",
    tipo: "premium",
    categoria: "reformas",
    gratis: false,
    permiteResenas: true,
    alcance: "nacional",
    popularidad: 84,
    icono: "home",
  },

  // ─── STANDARD TIER: Free directories with decent authority ───
  {
    slug: "cataloxy",
    nombre: "Cataloxy",
    dominio: "cataloxy.es",
    url: "https://www.cataloxy.es",
    descripcion: "Directorio de empresas españolas organizado por localidad y sector de actividad.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "nacional",
    popularidad: 65,
    icono: "list",
  },
  {
    slug: "cybo",
    nombre: "Cybo",
    dominio: "cybo.com",
    url: "https://www.cybo.com",
    descripcion: "Directorio global de negocios con información de contacto, ubicación y horarios.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "global",
    popularidad: 60,
    icono: "globe",
  },
  {
    slug: "maptons",
    nombre: "Maptons",
    dominio: "maptons.com",
    url: "https://maptons.com",
    descripcion: "Directorio de negocios basado en mapas. Fichas con ubicación, contacto y categorías de servicio.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "internacional",
    popularidad: 70,
    icono: "map",
  },
  {
    slug: "polomap",
    nombre: "Polomap",
    dominio: "polomap.com",
    url: "https://es.polomap.com",
    descripcion: "Directorio de empresas y profesionales con mapa interactivo y fichas detalladas por ciudad.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "internacional",
    popularidad: 68,
    icono: "map-pin",
  },
  {
    slug: "firmania",
    nombre: "Firmania",
    dominio: "firmania.es",
    url: "https://www.firmania.es",
    descripcion: "Directorio de empresas en España con datos de contacto y clasificación por sector.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "nacional",
    popularidad: 62,
    icono: "building",
  },
  {
    slug: "vulka",
    nombre: "Vulka",
    dominio: "vulka.es",
    url: "https://www.vulka.es",
    descripcion: "Directorio de profesionales y empresas españolas con fichas de contacto y servicios.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "nacional",
    popularidad: 55,
    icono: "users",
  },
  {
    slug: "kompass",
    nombre: "Kompass",
    dominio: "kompass.com",
    url: "https://www.kompass.com",
    descripcion: "Directorio B2B internacional con más de 60 millones de empresas. Enfocado en comercio entre empresas.",
    tipo: "estandar",
    categoria: "b2b",
    gratis: true,
    permiteResenas: false,
    alcance: "global",
    popularidad: 72,
    icono: "briefcase",
  },
  {
    slug: "europages",
    nombre: "Europages",
    dominio: "europages.es",
    url: "https://www.europages.es",
    descripcion: "Directorio B2B europeo para encontrar proveedores y fabricantes por sector de actividad.",
    tipo: "estandar",
    categoria: "b2b",
    gratis: true,
    permiteResenas: false,
    alcance: "europeo",
    popularidad: 70,
    icono: "globe",
  },
  {
    slug: "yelp",
    nombre: "Yelp",
    dominio: "yelp.com",
    url: "https://www.yelp.es",
    descripcion: "Plataforma de reseñas y descubrimiento de negocios locales. Popular especialmente en hostelería y servicios.",
    tipo: "estandar",
    categoria: "resenas",
    gratis: true,
    permiteResenas: true,
    alcance: "global",
    popularidad: 78,
    icono: "star",
  },
  {
    slug: "tripadvisor",
    nombre: "TripAdvisor",
    dominio: "tripadvisor.es",
    url: "https://www.tripadvisor.es",
    descripcion: "La mayor plataforma de reseñas de viajes, restaurantes y experiencias del mundo.",
    tipo: "estandar",
    categoria: "resenas",
    gratis: true,
    permiteResenas: true,
    alcance: "global",
    popularidad: 92,
    icono: "star",
  },
  {
    slug: "11870",
    nombre: "11870",
    dominio: "11870.com",
    url: "https://www.11870.com",
    descripcion: "Directorio y guía de establecimientos con reseñas de usuarios en toda España.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: true,
    alcance: "nacional",
    popularidad: 58,
    icono: "phone",
  },
  {
    slug: "provenexpert",
    nombre: "ProvenExpert",
    dominio: "provenexpert.com",
    url: "https://www.provenexpert.com",
    descripcion: "Plataforma de gestión de reputación online con reseñas verificadas y sellos de calidad.",
    tipo: "estandar",
    categoria: "resenas",
    gratis: true,
    permiteResenas: true,
    alcance: "global",
    popularidad: 65,
    icono: "shield",
  },
  {
    slug: "todoenlaces",
    nombre: "TodoEnlaces",
    dominio: "todoenlaces.com",
    url: "https://www.todoenlaces.com",
    descripcion: "Directorio de servicios y empresas clasificados por ubicación y tipo de negocio.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "nacional",
    popularidad: 50,
    icono: "link",
  },
  {
    slug: "servipyme",
    nombre: "ServiPyme",
    dominio: "servipyme.com",
    url: "https://www.servipyme.com",
    descripcion: "Directorio de PYMES y servicios profesionales organizados por localidad y actividad.",
    tipo: "estandar",
    categoria: "servicios",
    gratis: true,
    permiteResenas: false,
    alcance: "nacional",
    popularidad: 52,
    icono: "briefcase",
  },
  {
    slug: "empresas-espanolas",
    nombre: "Empresas Españolas",
    dominio: "empresasespanolas.net",
    url: "https://www.empresasespanolas.net",
    descripcion: "Base de datos de empresas españolas con información de contacto y clasificación CNAE.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "nacional",
    popularidad: 48,
    icono: "database",
  },
  {
    slug: "planreforma",
    nombre: "PlanReforma",
    dominio: "planreforma.com",
    url: "https://www.planreforma.com",
    descripcion: "Directorio de profesionales de la reforma y decoración. Presupuestos y fotos de proyectos reales.",
    tipo: "estandar",
    categoria: "reformas",
    gratis: false,
    permiteResenas: true,
    alcance: "nacional",
    popularidad: 64,
    icono: "hammer",
  },
  {
    slug: "starofservice",
    nombre: "StarOfService",
    dominio: "starofservice.com",
    url: "https://www.starofservice.com",
    descripcion: "Plataforma para encontrar y contratar profesionales de servicios en tu zona con presupuestos personalizados.",
    tipo: "estandar",
    categoria: "servicios",
    gratis: false,
    permiteResenas: true,
    alcance: "internacional",
    popularidad: 66,
    icono: "star",
  },
  {
    slug: "foursquare",
    nombre: "Foursquare",
    dominio: "foursquare.com",
    url: "https://foursquare.com",
    descripcion: "Plataforma de descubrimiento de lugares y negocios basada en ubicación con tips y reseñas.",
    tipo: "estandar",
    categoria: "resenas",
    gratis: true,
    permiteResenas: true,
    alcance: "global",
    popularidad: 68,
    icono: "map-pin",
  },
  {
    slug: "nextdoor",
    nombre: "Nextdoor",
    dominio: "nextdoor.com",
    url: "https://nextdoor.com",
    descripcion: "Red social de barrio donde vecinos recomiendan negocios y profesionales locales de confianza.",
    tipo: "estandar",
    categoria: "social",
    gratis: true,
    permiteResenas: true,
    alcance: "local",
    popularidad: 60,
    icono: "users",
  },
  {
    slug: "directoriogratis",
    nombre: "Directorio Gratis",
    dominio: "directoriogratis.es",
    url: "https://www.directoriogratis.es",
    descripcion: "Directorio gratuito de empresas y profesionales en España organizado por provincia y actividad.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "nacional",
    popularidad: 55,
    icono: "list",
  },
  {
    slug: "paxinas-galegas",
    nombre: "Páxinas Galegas",
    dominio: "paxinasgalegas.es",
    url: "https://www.paxinasgalegas.es",
    descripcion: "Directorio de empresas y profesionales de Galicia con información de contacto y servicios.",
    tipo: "estandar",
    categoria: "regional",
    gratis: true,
    permiteResenas: false,
    alcance: "regional",
    popularidad: 45,
    icono: "map",
  },
  {
    slug: "enrollbusiness",
    nombre: "EnrollBusiness",
    dominio: "enrollbusiness.com",
    url: "https://www.enrollbusiness.com",
    descripcion: "Directorio gratuito de negocios con perfiles empresariales y listados por ubicación.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "global",
    popularidad: 40,
    icono: "building",
  },
  {
    slug: "brownbook",
    nombre: "Brownbook",
    dominio: "brownbook.net",
    url: "https://www.brownbook.net",
    descripcion: "Directorio global de empresas con más de 30 millones de listados en todo el mundo.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "global",
    popularidad: 42,
    icono: "book",
  },
  {
    slug: "wheree",
    nombre: "Wheree",
    dominio: "wheree.com",
    url: "https://www.wheree.com",
    descripcion: "Directorio de negocios y servicios con fichas de empresa organizadas por localidad.",
    tipo: "estandar",
    categoria: "general",
    gratis: true,
    permiteResenas: false,
    alcance: "internacional",
    popularidad: 44,
    icono: "search",
  },

  // ─── SOCIAL / REDES ───
  {
    slug: "facebook",
    nombre: "Facebook Business",
    dominio: "facebook.com",
    url: "https://www.facebook.com/business",
    descripcion: "Crea una página de negocio en Facebook para conectar con clientes, recibir reseñas y publicar contenido.",
    tipo: "social",
    categoria: "social",
    gratis: true,
    permiteResenas: true,
    alcance: "global",
    popularidad: 96,
    icono: "facebook",
  },
  {
    slug: "instagram",
    nombre: "Instagram Business",
    dominio: "instagram.com",
    url: "https://business.instagram.com",
    descripcion: "Perfil profesional en Instagram para mostrar tus servicios con fotos, stories y reels.",
    tipo: "social",
    categoria: "social",
    gratis: true,
    permiteResenas: false,
    alcance: "global",
    popularidad: 94,
    icono: "instagram",
  },
  {
    slug: "linkedin",
    nombre: "LinkedIn",
    dominio: "linkedin.com",
    url: "https://www.linkedin.com",
    descripcion: "Red profesional para empresas. Página de empresa, networking y generación de leads B2B.",
    tipo: "social",
    categoria: "social",
    gratis: true,
    permiteResenas: false,
    alcance: "global",
    popularidad: 88,
    icono: "linkedin",
  },
];

// Write the final data
const outputPath = path.join(__dirname, "..", "client", "src", "data", "directorios.ts");

const tsContent = `// Auto-generated directory data from Base44 CitationSource API
// Last updated: ${new Date().toISOString().split("T")[0]}

export interface Directorio {
  slug: string;
  nombre: string;
  dominio: string;
  url: string;
  descripcion: string;
  tipo: "premium" | "estandar" | "social";
  categoria: "general" | "resenas" | "servicios" | "reformas" | "b2b" | "social" | "regional";
  gratis: boolean;
  permiteResenas: boolean;
  alcance: "local" | "regional" | "nacional" | "europeo" | "internacional" | "global";
  popularidad: number; // 0-100
  icono: string;
}

export const directorios: Directorio[] = ${JSON.stringify(curatedDirectories, null, 2)};

export const directoriosPremium = directorios.filter(d => d.tipo === "premium");
export const directoriosEstandar = directorios.filter(d => d.tipo === "estandar");
export const directoriosSocial = directorios.filter(d => d.tipo === "social");

export const categoriaDirectorio = {
  general: "Directorios Generales",
  resenas: "Plataformas de Reseñas",
  servicios: "Servicios y Presupuestos",
  reformas: "Reformas y Hogar",
  b2b: "B2B / Empresarial",
  social: "Redes Sociales",
  regional: "Directorios Regionales",
} as const;

export type CategoriaDirectorio = keyof typeof categoriaDirectorio;
`;

fs.writeFileSync(outputPath, tsContent, "utf-8");
console.log("Written", curatedDirectories.length, "curated directories to", outputPath);

// Stats
const byTipo = {};
const byCat = {};
for (const d of curatedDirectories) {
  byTipo[d.tipo] = (byTipo[d.tipo] || 0) + 1;
  byCat[d.categoria] = (byCat[d.categoria] || 0) + 1;
}
console.log("By tipo:", byTipo);
console.log("By categoria:", byCat);
